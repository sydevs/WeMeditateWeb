name = "wemeditate-web"
compatibility_date = "2025-09-06"
compatibility_flags = ["nodejs_compat"]
main = "virtual:photon:cloudflare:server-entry"

# KV namespace for caching SahajCloud data
# To create: pnpm wrangler kv namespace create "WEMEDITATE_CACHE"
# For preview: pnpm wrangler kv namespace create "WEMEDITATE_CACHE" --preview
[[kv_namespaces]]
binding = "WEMEDITATE_CACHE"
id = "5c38f43ed50440a3bc7e06c8e9483856"
preview_id = "cf4eaa694eed4a7aa7f0482905e496a1"

# Environment Variables
#
# SECURITY: Only put NON-SENSITIVE values here (this file is in git)
#
# For secrets, use Cloudflare dashboard encrypted secrets:
# Workers & Pages → wemeditate-web → Settings → Environment variables
#
# Required secrets in Cloudflare dashboard:
# - SAHAJCLOUD_API_KEY (server-side only)
# - PUBLIC__MAPBOX_ACCESS_TOKEN (browser-accessible, but still secret)
# - PUBLIC__SENTRY_DSN (browser-accessible, but still secret)
# - SENTRY_DSN (server-side only)
#
# Build-time PUBLIC__* variables:
# - Defined in .env.production (committed to git, no secrets)
# - Embedded by Vite during production build
# - Example: PUBLIC__SAHAJCLOUD_URL
#
# Note: wrangler.toml [vars] are runtime-only and NOT available during Vite build.
# Use .env.production for PUBLIC__* variables that need to be in client bundles.
